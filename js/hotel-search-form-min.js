var searchForm=document.querySelector(".hotel-search-form"),searchButton=document.querySelector(".hotel-search-button"),children=searchForm.querySelector("[name=number-children]"),adults=searchForm.querySelector("[name=number-adults]"),arrivalDate=searchForm.querySelector("[name=arrival-date]"),departureDate=searchForm.querySelector("[name=departure-date]"),isStorageSupport=!0,storageChildren="",storageAdults="";searchForm.classList.add("form-hide");try{storageChildren=localStorage.getItem("children"),storageAdults=localStorage.getItem("adults")}catch(e){isStorageSupport=!1}searchButton.addEventListener("click",function(e){e.preventDefault(),searchForm.classList.contains("form-show")?(searchForm.classList.remove("form-show"),searchForm.classList.remove("form-error")):(searchForm.classList.add("form-show"),storageChildren&&(children.value=storageChildren),storageAdults&&(adults.value=storageAdults),arrivalDate.focus())}),searchForm.addEventListener("submit",function(e){!arrivalDate.value||!departureDate.value||!adults.value||!children.value||adults<=0||children<0?(e.preventDefault(),searchForm.classList.remove("form-error"),searchForm.offsetWidth=searchForm.offsetWidth,searchForm.classList.add("form-error")):isStorageSupport&&(localStorage.setItem("children",children.value),localStorage.setItem("adults",adults.value))}),window.addEventListener("keydown",function(e){27===e.keyCode&&searchForm.classList.contains("form-show")&&(e.preventDefault(),searchForm.classList.remove("form-show"),searchForm.classList.remove("form-error"))});